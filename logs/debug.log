2025-03-18 17:27:51,140 - install_ui.main - INFO - Starting application
2025-03-18 17:27:51,140 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/textual-2.1.1-py3-none-any to sys.path
2025-03-18 17:27:51,141 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/platformdirs-4.3.6-py3-none-any to sys.path
2025-03-18 17:27:51,141 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/pygments-2.19.1-py3-none-any to sys.path
2025-03-18 17:27:51,141 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/ruamel.yaml.clib-0.2.12-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64 to sys.path
2025-03-18 17:27:51,141 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/uc_micro_py-1.0.3-py3-none-any to sys.path
2025-03-18 17:27:51,141 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/pexpect-4.9.0-py2.py3-none-any to sys.path
2025-03-18 17:27:51,141 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/linkify_it_py-2.0.3-py3-none-any to sys.path
2025-03-18 17:27:51,141 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/typing_extensions-4.12.2-py3-none-any to sys.path
2025-03-18 17:27:51,141 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/mdit_py_plugins-0.4.2-py3-none-any to sys.path
2025-03-18 17:27:51,142 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/ruamel.yaml-0.18.10-py3-none-any to sys.path
2025-03-18 17:27:51,142 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/rich-13.9.4-py3-none-any to sys.path
2025-03-18 17:27:51,142 - install_ui.main - DEBUG - Added /media/nico/Drive/pcUtils/libs/ptyprocess-0.7.0-py2.py3-none-any to sys.path
2025-03-18 17:27:51,402 - choice - DEBUG - Initialisation de l'application Choice
2025-03-18 17:27:51,403 - sequence_handler - DEBUG - Dossier des s√©quences : sequences
2025-03-18 17:27:51,403 - template_handler - DEBUG - Dossier des templates : templates
2025-03-18 17:27:51,403 - template_handler - DEBUG - Fichier de sch√©ma : templates/template_schema.yml
2025-03-18 17:27:51,403 - asyncio - DEBUG - Using selector: EpollSelector
2025-03-18 17:27:51,429 - install_ui.plugin_utils - DEBUG - Loading plugin info for: lara_install
2025-03-18 17:27:51,429 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: lara_install
2025-03-18 17:27:51,429 - install_ui.plugin_utils - DEBUG -   Test path: plugins/lara_install_test (exists: False)
2025-03-18 17:27:51,429 - install_ui.plugin_utils - DEBUG -   Base path: plugins/lara_install (exists: True)
2025-03-18 17:27:51,429 - install_ui.plugin_utils - DEBUG -   Returning base folder name: lara_install
2025-03-18 17:27:51,429 - install_ui.plugin_utils - DEBUG -   Folder name: lara_install
2025-03-18 17:27:51,429 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/lara_install/settings.yml (exists: True)
2025-03-18 17:27:51,438 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for lara_install
2025-03-18 17:27:51,439 - template_handler - DEBUG - Aucun dossier de templates trouv√© pour lara_install
2025-03-18 17:27:51,439 - install_ui.plugin_utils - DEBUG - Loading plugin info for: home_copy
2025-03-18 17:27:51,439 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: home_copy
2025-03-18 17:27:51,439 - install_ui.plugin_utils - DEBUG -   Test path: plugins/home_copy_test (exists: False)
2025-03-18 17:27:51,439 - install_ui.plugin_utils - DEBUG -   Base path: plugins/home_copy (exists: True)
2025-03-18 17:27:51,439 - install_ui.plugin_utils - DEBUG -   Returning base folder name: home_copy
2025-03-18 17:27:51,439 - install_ui.plugin_utils - DEBUG -   Folder name: home_copy
2025-03-18 17:27:51,439 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/home_copy/settings.yml (exists: True)
2025-03-18 17:27:51,454 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for home_copy
2025-03-18 17:27:51,454 - template_handler - DEBUG - Aucun dossier de templates trouv√© pour home_copy
2025-03-18 17:27:51,454 - install_ui.plugin_utils - DEBUG - Loading plugin info for: add_printer
2025-03-18 17:27:51,454 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: add_printer
2025-03-18 17:27:51,455 - install_ui.plugin_utils - DEBUG -   Test path: plugins/add_printer_test (exists: False)
2025-03-18 17:27:51,455 - install_ui.plugin_utils - DEBUG -   Base path: plugins/add_printer (exists: True)
2025-03-18 17:27:51,455 - install_ui.plugin_utils - DEBUG -   Returning base folder name: add_printer
2025-03-18 17:27:51,455 - install_ui.plugin_utils - DEBUG -   Folder name: add_printer
2025-03-18 17:27:51,455 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/add_printer/settings.yml (exists: True)
2025-03-18 17:27:51,466 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for add_printer
2025-03-18 17:27:51,473 - template_handler - ERROR - Erreur lors du chargement des templates pour add_printer : while parsing a block mapping
  in "templates/template_schema.yml", line 1, column 1
expected <block end>, but found '<scalar>'
  in "templates/template_schema.yml", line 43, column 5
2025-03-18 17:27:51,473 - install_ui.plugin_utils - DEBUG - Loading plugin info for: scan_plugin
2025-03-18 17:27:51,474 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: scan_plugin
2025-03-18 17:27:51,474 - install_ui.plugin_utils - DEBUG -   Test path: plugins/scan_plugin_test (exists: False)
2025-03-18 17:27:51,474 - install_ui.plugin_utils - DEBUG -   Base path: plugins/scan_plugin (exists: True)
2025-03-18 17:27:51,474 - install_ui.plugin_utils - DEBUG -   Returning base folder name: scan_plugin
2025-03-18 17:27:51,474 - install_ui.plugin_utils - DEBUG -   Folder name: scan_plugin
2025-03-18 17:27:51,474 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/scan_plugin/settings.yml (exists: True)
2025-03-18 17:27:51,481 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for scan_plugin
2025-03-18 17:27:51,487 - template_handler - ERROR - Erreur lors du chargement des templates pour scan_plugin : while parsing a block mapping
  in "templates/template_schema.yml", line 1, column 1
expected <block end>, but found '<scalar>'
  in "templates/template_schema.yml", line 43, column 5
2025-03-18 17:27:51,488 - install_ui.plugin_utils - DEBUG - Loading plugin info for: delete_printer
2025-03-18 17:27:51,488 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: delete_printer
2025-03-18 17:27:51,488 - install_ui.plugin_utils - DEBUG -   Test path: plugins/delete_printer_test (exists: False)
2025-03-18 17:27:51,488 - install_ui.plugin_utils - DEBUG -   Base path: plugins/delete_printer (exists: True)
2025-03-18 17:27:51,488 - install_ui.plugin_utils - DEBUG -   Returning base folder name: delete_printer
2025-03-18 17:27:51,488 - install_ui.plugin_utils - DEBUG -   Folder name: delete_printer
2025-03-18 17:27:51,488 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/delete_printer/settings.yml (exists: True)
2025-03-18 17:27:51,493 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for delete_printer
2025-03-18 17:27:51,493 - template_handler - DEBUG - Aucun dossier de templates trouv√© pour delete_printer
2025-03-18 17:27:51,497 - install_ui.plugin_utils - DEBUG - Loading plugin info for: add_printer
2025-03-18 17:27:51,497 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: add_printer
2025-03-18 17:27:51,498 - install_ui.plugin_utils - DEBUG -   Test path: plugins/add_printer_test (exists: False)
2025-03-18 17:27:51,498 - install_ui.plugin_utils - DEBUG -   Base path: plugins/add_printer (exists: True)
2025-03-18 17:27:51,498 - install_ui.plugin_utils - DEBUG -   Returning base folder name: add_printer
2025-03-18 17:27:51,498 - install_ui.plugin_utils - DEBUG -   Folder name: add_printer
2025-03-18 17:27:51,498 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/add_printer/settings.yml (exists: True)
2025-03-18 17:27:51,506 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for add_printer
2025-03-18 17:27:51,510 - install_ui.plugin_utils - DEBUG - Loading plugin info for: scan_plugin
2025-03-18 17:27:51,510 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: scan_plugin
2025-03-18 17:27:51,510 - install_ui.plugin_utils - DEBUG -   Test path: plugins/scan_plugin_test (exists: False)
2025-03-18 17:27:51,510 - install_ui.plugin_utils - DEBUG -   Base path: plugins/scan_plugin (exists: True)
2025-03-18 17:27:51,510 - install_ui.plugin_utils - DEBUG -   Returning base folder name: scan_plugin
2025-03-18 17:27:51,510 - install_ui.plugin_utils - DEBUG -   Folder name: scan_plugin
2025-03-18 17:27:51,510 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/scan_plugin/settings.yml (exists: True)
2025-03-18 17:27:51,517 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for scan_plugin
2025-03-18 17:27:51,518 - install_ui.plugin_utils - DEBUG - Loading plugin info for: home_copy
2025-03-18 17:27:51,518 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: home_copy
2025-03-18 17:27:51,518 - install_ui.plugin_utils - DEBUG -   Test path: plugins/home_copy_test (exists: False)
2025-03-18 17:27:51,518 - install_ui.plugin_utils - DEBUG -   Base path: plugins/home_copy (exists: True)
2025-03-18 17:27:51,518 - install_ui.plugin_utils - DEBUG -   Returning base folder name: home_copy
2025-03-18 17:27:51,518 - install_ui.plugin_utils - DEBUG -   Folder name: home_copy
2025-03-18 17:27:51,518 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/home_copy/settings.yml (exists: True)
2025-03-18 17:27:51,529 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for home_copy
2025-03-18 17:27:51,530 - install_ui.plugin_utils - DEBUG - Loading plugin info for: lara_install
2025-03-18 17:27:51,530 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: lara_install
2025-03-18 17:27:51,530 - install_ui.plugin_utils - DEBUG -   Test path: plugins/lara_install_test (exists: False)
2025-03-18 17:27:51,530 - install_ui.plugin_utils - DEBUG -   Base path: plugins/lara_install (exists: True)
2025-03-18 17:27:51,530 - install_ui.plugin_utils - DEBUG -   Returning base folder name: lara_install
2025-03-18 17:27:51,530 - install_ui.plugin_utils - DEBUG -   Folder name: lara_install
2025-03-18 17:27:51,530 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/lara_install/settings.yml (exists: True)
2025-03-18 17:27:51,532 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for lara_install
2025-03-18 17:27:51,532 - install_ui.plugin_utils - DEBUG - Loading plugin info for: delete_printer
2025-03-18 17:27:51,532 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: delete_printer
2025-03-18 17:27:51,532 - install_ui.plugin_utils - DEBUG -   Test path: plugins/delete_printer_test (exists: False)
2025-03-18 17:27:51,532 - install_ui.plugin_utils - DEBUG -   Base path: plugins/delete_printer (exists: True)
2025-03-18 17:27:51,532 - install_ui.plugin_utils - DEBUG -   Returning base folder name: delete_printer
2025-03-18 17:27:51,532 - install_ui.plugin_utils - DEBUG -   Folder name: delete_printer
2025-03-18 17:27:51,532 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/delete_printer/settings.yml (exists: True)
2025-03-18 17:27:51,537 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for delete_printer
2025-03-18 17:27:52,677 - install_ui.plugin_utils - DEBUG - Loading plugin info for: add_printer
2025-03-18 17:27:52,678 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: add_printer
2025-03-18 17:27:52,678 - install_ui.plugin_utils - DEBUG -   Test path: plugins/add_printer_test (exists: False)
2025-03-18 17:27:52,679 - install_ui.plugin_utils - DEBUG -   Base path: plugins/add_printer (exists: True)
2025-03-18 17:27:52,679 - install_ui.plugin_utils - DEBUG -   Returning base folder name: add_printer
2025-03-18 17:27:52,679 - install_ui.plugin_utils - DEBUG -   Folder name: add_printer
2025-03-18 17:27:52,680 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/add_printer/settings.yml (exists: True)
2025-03-18 17:27:52,711 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for add_printer
2025-03-18 17:27:52,714 - choice - DEBUG - Changement s√©lection: add_printer -> True
2025-03-18 17:27:52,714 - install_ui.plugin_utils - DEBUG - Loading plugin info for: add_printer
2025-03-18 17:27:52,714 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: add_printer
2025-03-18 17:27:52,714 - install_ui.plugin_utils - DEBUG -   Test path: plugins/add_printer_test (exists: False)
2025-03-18 17:27:52,714 - install_ui.plugin_utils - DEBUG -   Base path: plugins/add_printer (exists: True)
2025-03-18 17:27:52,714 - install_ui.plugin_utils - DEBUG -   Returning base folder name: add_printer
2025-03-18 17:27:52,714 - install_ui.plugin_utils - DEBUG -   Folder name: add_printer
2025-03-18 17:27:52,715 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/add_printer/settings.yml (exists: True)
2025-03-18 17:27:52,726 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for add_printer
2025-03-18 17:27:52,726 - choice - DEBUG - Plugin ajout√©: add_printer (id: 1)
2025-03-18 17:27:52,727 - install_ui.plugin_list_item - WARNING - Initialisation de PluginListItem: add_printer, is_sequence: False, type: <class 'str'>, startswith: False
2025-03-18 17:27:52,727 - install_ui.plugin_utils - DEBUG - Loading plugin info for: add_printer
2025-03-18 17:27:52,727 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: add_printer
2025-03-18 17:27:52,727 - install_ui.plugin_utils - DEBUG -   Test path: plugins/add_printer_test (exists: False)
2025-03-18 17:27:52,727 - install_ui.plugin_utils - DEBUG -   Base path: plugins/add_printer (exists: True)
2025-03-18 17:27:52,727 - install_ui.plugin_utils - DEBUG -   Returning base folder name: add_printer
2025-03-18 17:27:52,727 - install_ui.plugin_utils - DEBUG -   Folder name: add_printer
2025-03-18 17:27:52,727 - install_ui.plugin_utils - DEBUG -   Settings path: plugins/add_printer/settings.yml (exists: True)
2025-03-18 17:27:52,736 - install_ui.plugin_utils - DEBUG -   Successfully loaded settings for add_printer
2025-03-18 17:27:52,736 - install_ui.plugin_list_item - WARNING - Plugin info final pour add_printer: {'name': "Ajout d'imprimante", 'description': 'Ajouter une imprimante en utilisant les mod√®les pr√©d√©finis', 'version': 1.0, 'category': 'Syst√®me', 'multiple': True, 'icon': 'üñ®', 'remote_execution': True, 'files_content': {'printer_model_content': 'models/{printer_model}'}, 'config_fields': {'printer_name': {'type': 'text', 'label': "Nom de l'imprimante", 'description': "Nom de l'imprimante (sans espaces)", 'required': True, 'placeholder': 'Ex: Bureau_RDC', 'validate': 'no_spaces', 'default': 'BT', 'plugin_id': 'add_printer'}, 'printer_model': {'type': 'select', 'label': "Mod√®le d'imprimante", 'description': "S√©lectionner le mod√®le d'imprimante", 'required': True, 'allow_blank': False, 'plugin_id': 'add_printer', 'dynamic_options': {'script': 'get_printer_models.py', 'function': 'get_printer_models', 'value_key': 'models'}}, 'printer_ip': {'type': 'ip', 'label': 'Adresse IP', 'description': "Adresse IP de l'imprimante", 'required': True, 'not_empty': True, 'placeholder': 'Ex: 192.168.1.100', 'plugin_id': 'add_printer', 'dynamic_default': {'script': 'get_ip.py', 'function': 'get_local_ip', 'value_key': 'ip', 'path': '@[scripts]'}}}}
2025-03-18 17:27:52,737 - install_ui.plugin_list_item - INFO - Composition de l'√©l√©ment add_printer, nom: Ajout d'imprimante, is_sequence: False
2025-03-18 17:27:54,140 - choice - DEBUG - Bouton cliqu√© : configure_selected
2025-03-18 17:27:54,140 - choice - DEBUG - Starting action_configure_selected
2025-03-18 17:27:54,149 - choice - DEBUG - Selected plugins: [('add_printer', 1)]
2025-03-18 17:27:54,149 - choice - DEBUG - Creating PluginConfig instance
2025-03-18 17:27:54,149 - install_ui.config_screen - DEBUG - Initialisation de PluginConfig
2025-03-18 17:27:54,150 - install_ui.config_screen - DEBUG - Instances de plugins: [('add_printer', 1)]
2025-03-18 17:27:54,150 - install_ui.config_screen - DEBUG - Cr√©ation ConfigManager
2025-03-18 17:27:54,150 - install_ui.config_screen - DEBUG - Chargement config SSH depuis: /media/nico/Drive/pcUtils/ui/ssh_manager/ssh_fields.yml
2025-03-18 17:27:54,170 - install_ui.config_manager - DEBUG - Global config 'ssh' loaded: {'name': 'Configuration SSH globale', 'icon': 'üîí', 'description': "Param√®tres de connexion pour l'ex√©cution distante des plugins", 'hint': "Activez l'ex√©cution distante sur au moins un plugin pour configurer SSH", 'fields': {'ssh_ips': {'type': 'text', 'label': 'Adresses IP (s√©par√©es par des virgules)', 'description': 'Peut inclure des caract√®res g√©n√©riques (ex: 192.168.1.*) et des virgules', 'placeholder': '150.27.2.*', 'default': '192.168.1.136', 'required': True}, 'ssh_user': {'type': 'text', 'label': 'Utilisateur SSH', 'default': 'nico', 'required': True}, 'ssh_passwd': {'type': 'password', 'label': 'Mot de passe SSH', 'default': 'orion1111', 'required': True}, 'ssh_sms_enabled': {'type': 'checkbox', 'label': 'Authentification via la SMS', 'default': False}, 'ssh_sms': {'type': 'text', 'label': 'Nom de machine de la SMS', 'default': 'ggd027sf', 'placeholder': 'ggd027sf....', 'required': True, 'enabled_if': {'field': 'ssh_sms_enabled', 'value': True}}, 'ssh_exception_ips': {'type': 'text', 'label': "Adresses IP exclues de l'exception", 'placeholder': '150.27.2.200,150.27.2.21*,150.27.2.22*', 'required': False}, 'ssh_root_same': {'type': 'checkbox', 'label': 'Utiliser les m√™mes identifiants pour sudo', 'description': "Utiliser les m√™mes identifiants que ssh_user et ssh_passwd pour l'acc√®s root", 'default': True}, 'ssh_root_user': {'type': 'text', 'label': 'Utilisateur root SSH', 'description': "Utilisateur √† utiliser pour l'acc√®s root via SSH", 'placeholder': 'root', 'required': True, 'enabled_if': {'field': 'ssh_root_same', 'value': False}}, 'ssh_root_passwd': {'type': 'password', 'label': 'Mot de passe root SSH', 'description': "Mot de passe √† utiliser pour l'acc√®s root via SSH", 'required': True, 'enabled_if': {'field': 'ssh_root_same', 'value': False}}, 'local_root_same': {'type': 'checkbox', 'label': 'Utiliser les m√™mes identifiants pour sudo local', 'description': "Utiliser les m√™mes identifiants que ssh_user et ssh_passwd pour l'acc√®s root local", 'default': True}, 'local_root_user': {'type': 'text', 'label': 'Utilisateur root local', 'description': "Utilisateur √† utiliser pour l'acc√®s root local", 'placeholder': 'root', 'required': True, 'enabled_if': {'field': 'local_root_same', 'value': False}}, 'local_root_passwd': {'type': 'password', 'label': 'Mot de passe root local', 'description': "Mot de passe √† utiliser pour l'acc√®s root local", 'required': True, 'enabled_if': {'field': 'local_root_same', 'value': False}}, 'ssh_port': {'type': 'text', 'label': 'Port SSH', 'description': 'Port SSH √† utiliser (22 par d√©faut)', 'default': '22', 'required': False}}}
2025-03-18 17:27:54,170 - install_ui.config_screen - DEBUG - Initialisation champs pour plugin: add_printer
2025-03-18 17:27:54,170 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: add_printer
2025-03-18 17:27:54,171 - install_ui.plugin_utils - DEBUG -   Test path: plugins/add_printer_test (exists: False)
2025-03-18 17:27:54,171 - install_ui.plugin_utils - DEBUG -   Base path: plugins/add_printer (exists: True)
2025-03-18 17:27:54,171 - install_ui.plugin_utils - DEBUG -   Returning base folder name: add_printer
2025-03-18 17:27:54,171 - install_ui.config_screen - DEBUG - Chargement config plugin depuis: /media/nico/Drive/pcUtils/plugins/add_printer/settings.yml
2025-03-18 17:27:54,185 - install_ui.config_manager - DEBUG - Plugin config 'add_printer' loaded
2025-03-18 17:27:54,185 - install_ui.config_screen - DEBUG - PluginConfig initialized successfully
2025-03-18 17:27:54,185 - choice - DEBUG - Pushing config screen
2025-03-18 17:27:54,232 - install_ui.config_screen - DEBUG - PluginConfig.compose() started
2025-03-18 17:27:54,232 - install_ui.config_screen - DEBUG - Plugin instances to check for remote execution: [('add_printer', 1)]
2025-03-18 17:27:54,232 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: add_printer
2025-03-18 17:27:54,232 - install_ui.plugin_utils - DEBUG -   Test path: plugins/add_printer_test (exists: False)
2025-03-18 17:27:54,232 - install_ui.plugin_utils - DEBUG -   Base path: plugins/add_printer (exists: True)
2025-03-18 17:27:54,232 - install_ui.plugin_utils - DEBUG -   Returning base folder name: add_printer
2025-03-18 17:27:54,232 - install_ui.config_screen - DEBUG - Reading settings from: /media/nico/Drive/pcUtils/plugins/add_printer/settings.yml
2025-03-18 17:27:54,244 - install_ui.config_screen - DEBUG - Loaded settings: {'name': "Ajout d'imprimante", 'description': 'Ajouter une imprimante en utilisant les mod√®les pr√©d√©finis', 'version': 1.0, 'category': 'Syst√®me', 'multiple': True, 'icon': 'üñ®', 'remote_execution': True, 'files_content': {'printer_model_content': 'models/{printer_model}'}, 'config_fields': {'printer_name': {'type': 'text', 'label': "Nom de l'imprimante", 'description': "Nom de l'imprimante (sans espaces)", 'required': True, 'placeholder': 'Ex: Bureau_RDC', 'validate': 'no_spaces', 'default': 'BT', 'plugin_id': 'add_printer'}, 'printer_model': {'type': 'select', 'label': "Mod√®le d'imprimante", 'description': "S√©lectionner le mod√®le d'imprimante", 'required': True, 'allow_blank': False, 'plugin_id': 'add_printer', 'dynamic_options': {'script': 'get_printer_models.py', 'function': 'get_printer_models', 'value_key': 'models'}}, 'printer_ip': {'type': 'ip', 'label': 'Adresse IP', 'description': "Adresse IP de l'imprimante", 'required': True, 'not_empty': True, 'placeholder': 'Ex: 192.168.1.100', 'plugin_id': 'add_printer', 'dynamic_default': {'script': 'get_ip.py', 'function': 'get_local_ip', 'value_key': 'ip', 'path': '@[scripts]'}}}}
2025-03-18 17:27:54,244 - install_ui.config_screen - DEBUG - Plugin add_printer remote_execution: True
2025-03-18 17:27:54,244 - install_ui.config_screen - DEBUG - Found remote execution plugin: add_printer
2025-03-18 17:27:54,244 - install_ui.config_screen - DEBUG - Remote execution plugins: ['add_printer']
2025-03-18 17:27:54,244 - install_ui.config_screen - DEBUG - Has remote plugins: True
2025-03-18 17:27:54,244 - install_ui.config_screen - DEBUG - Remote plugins list: ['add_printer']
2025-03-18 17:27:54,245 - install_ui.config_screen - DEBUG - Creating config for plugin: add_printer_1
2025-03-18 17:27:54,245 - plugin_config_container - DEBUG - Initialisation du conteneur de configuration pour add_printer
2025-03-18 17:27:54,245 - template_manager - DEBUG - Templates directory: /media/nico/Drive/pcUtils/templates
2025-03-18 17:27:54,251 - template_manager - ERROR - Erreur lors du chargement du sch√©ma: while parsing a block mapping
  in "/media/nico/Drive/pcUtils/templates/template_schema.yml", line 1, column 1
expected <block end>, but found '<scalar>'
  in "/media/nico/Drive/pcUtils/templates/template_schema.yml", line 43, column 5
2025-03-18 17:27:54,251 - template_manager - DEBUG - Gestionnaire de templates initialis√©
2025-03-18 17:27:54,251 - plugin_config_container - DEBUG - Gestionnaire de templates initialis√© pour add_printer
2025-03-18 17:27:54,252 - install_ui.config_screen - DEBUG - Checking if add_printer is in remote_plugins: True
2025-03-18 17:27:54,252 - install_ui.config_screen - DEBUG - Adding remote execution checkbox for plugin add_printer_1
2025-03-18 17:27:54,252 - install_ui.config_screen - DEBUG - Adding empty SSH container (content will be added in on_mount)
2025-03-18 17:27:54,254 - install_ui.config_screen - DEBUG - PluginConfig.compose() completed
2025-03-18 17:27:54,272 - plugin_config_container - DEBUG - Composition du conteneur pour add_printer
2025-03-18 17:27:54,274 - template_manager - DEBUG - Template valid√© avec succ√®s : Amfreville-Bas
2025-03-18 17:27:54,274 - template_manager - DEBUG - Template charg√© : amfreville_bas.yml pour add_printer
2025-03-18 17:27:54,275 - template_manager - DEBUG - Template valid√© avec succ√®s : Configuration par d√©faut
2025-03-18 17:27:54,275 - template_manager - DEBUG - Template charg√© : default.yml pour add_printer
2025-03-18 17:27:54,275 - plugin_config_container - DEBUG - Templates trouv√©s pour add_printer : ['amfreville_bas', 'default']
2025-03-18 17:27:54,275 - template_manager - DEBUG - Templates directory: /media/nico/Drive/pcUtils/templates
2025-03-18 17:27:54,282 - template_manager - ERROR - Erreur lors du chargement du sch√©ma: while parsing a block mapping
  in "/media/nico/Drive/pcUtils/templates/template_schema.yml", line 1, column 1
expected <block end>, but found '<scalar>'
  in "/media/nico/Drive/pcUtils/templates/template_schema.yml", line 43, column 5
2025-03-18 17:27:54,282 - template_manager - DEBUG - Gestionnaire de templates initialis√©
2025-03-18 17:27:54,282 - template_field - DEBUG - Initialisation du champ de template pour add_printer
2025-03-18 17:27:54,283 - template_manager - DEBUG - Template valid√© avec succ√®s : Amfreville-Bas
2025-03-18 17:27:54,283 - template_manager - DEBUG - Template charg√© : amfreville_bas.yml pour add_printer
2025-03-18 17:27:54,284 - template_manager - DEBUG - Template valid√© avec succ√®s : Configuration par d√©faut
2025-03-18 17:27:54,285 - template_manager - DEBUG - Template charg√© : default.yml pour add_printer
2025-03-18 17:27:54,285 - template_field - DEBUG - Templates charg√©s : ['amfreville_bas', 'default']
2025-03-18 17:27:54,285 - plugin_config_container - DEBUG - Cr√©ation du champ printer_name de type text
2025-03-18 17:27:54,285 - plugin_config_container - DEBUG - Champ printer_name cr√©√© et ajout√© au dictionnaire
2025-03-18 17:27:54,285 - plugin_config_container - DEBUG - Cr√©ation du champ printer_model de type select
2025-03-18 17:27:54,286 - plugin_config_container - DEBUG - Champ printer_model cr√©√© et ajout√© au dictionnaire
2025-03-18 17:27:54,286 - plugin_config_container - DEBUG - Cr√©ation du champ printer_ip de type ip
2025-03-18 17:27:54,286 - install_ui.config_field - INFO - Attempting to get dynamic default for field: printer_ip
2025-03-18 17:27:54,286 - install_ui.config_field - INFO - Field config: {'type': 'ip', 'label': 'Adresse IP', 'description': "Adresse IP de l'imprimante", 'required': True, 'not_empty': True, 'placeholder': 'Ex: 192.168.1.100', 'plugin_id': 'add_printer', 'dynamic_default': {'script': 'get_ip.py', 'function': 'get_local_ip', 'value_key': 'ip', 'path': '@[scripts]'}, 'id': 'printer_ip'}
2025-03-18 17:27:54,286 - install_ui.config_field - INFO - Loading script from: /media/nico/Drive/pcUtils/ui/config_screen/../../scripts/get_ip.py
2025-03-18 17:27:54,287 - install_ui.config_field - INFO - Dynamic default value obtained: (True, {'ip': '192.168.1.220'})
2025-03-18 17:27:54,287 - plugin_config_container - DEBUG - Champ printer_ip cr√©√© et ajout√© au dictionnaire
2025-03-18 17:27:54,287 - plugin_config_container - DEBUG - Ajout du champ d'ex√©cution distante pour add_printer
2025-03-18 17:27:54,297 - template_manager - DEBUG - Template valid√© avec succ√®s : Amfreville-Bas
2025-03-18 17:27:54,298 - template_manager - DEBUG - Template charg√© : amfreville_bas.yml pour add_printer
2025-03-18 17:27:54,299 - template_manager - DEBUG - Template valid√© avec succ√®s : Configuration par d√©faut
2025-03-18 17:27:54,299 - template_manager - DEBUG - Template charg√© : default.yml pour add_printer
2025-03-18 17:27:54,299 - template_manager - DEBUG - Templates disponibles pour add_printer : ['amfreville_bas', 'default']
2025-03-18 17:27:54,301 - template_manager - DEBUG - Template valid√© avec succ√®s : Amfreville-Bas
2025-03-18 17:27:54,301 - template_manager - DEBUG - Template charg√© : amfreville_bas.yml pour add_printer
2025-03-18 17:27:54,302 - template_manager - DEBUG - Template valid√© avec succ√®s : Configuration par d√©faut
2025-03-18 17:27:54,302 - template_manager - DEBUG - Template charg√© : default.yml pour add_printer
2025-03-18 17:27:54,302 - template_manager - DEBUG - Description du template pour add_printer/amfreville_bas : Configuration pour l'imprimante du rez-de-chauss√©e √† Amfreville
2025-03-18 17:27:54,304 - template_manager - DEBUG - Template valid√© avec succ√®s : Amfreville-Bas
2025-03-18 17:27:54,304 - template_manager - DEBUG - Template charg√© : amfreville_bas.yml pour add_printer
2025-03-18 17:27:54,306 - template_manager - DEBUG - Template valid√© avec succ√®s : Configuration par d√©faut
2025-03-18 17:27:54,306 - template_manager - DEBUG - Template charg√© : default.yml pour add_printer
2025-03-18 17:27:54,306 - template_manager - DEBUG - Description du template pour add_printer/default : Configuration standard pour une imprimante r√©seau
2025-03-18 17:27:54,307 - template_manager - DEBUG - Template valid√© avec succ√®s : Amfreville-Bas
2025-03-18 17:27:54,307 - template_manager - DEBUG - Template charg√© : amfreville_bas.yml pour add_printer
2025-03-18 17:27:54,309 - template_manager - DEBUG - Template valid√© avec succ√®s : Configuration par d√©faut
2025-03-18 17:27:54,309 - template_manager - DEBUG - Template charg√© : default.yml pour add_printer
2025-03-18 17:27:54,309 - template_manager - DEBUG - Template par d√©faut trouv√© pour add_printer
2025-03-18 17:27:54,309 - template_field - DEBUG - Application du template par d√©faut pour add_printer
2025-03-18 17:27:54,314 - install_ui.select_field - INFO - Loading script from: /media/nico/Drive/pcUtils/ui/config_screen/../../plugins/add_printer/get_printer_models.py
2025-03-18 17:27:54,314 - install_ui.select_field - DEBUG - Script exists: True
2025-03-18 17:27:54,314 - install_ui.select_field - DEBUG - Python path: ['/media/nico/Drive/pcUtils', '/media/nico/Drive/pcUtils/libs/ptyprocess-0.7.0-py2.py3-none-any', '/media/nico/Drive/pcUtils/libs/rich-13.9.4-py3-none-any', '/media/nico/Drive/pcUtils/libs/ruamel.yaml-0.18.10-py3-none-any', '/media/nico/Drive/pcUtils/libs/mdit_py_plugins-0.4.2-py3-none-any', '/media/nico/Drive/pcUtils/libs/typing_extensions-4.12.2-py3-none-any', '/media/nico/Drive/pcUtils/libs/linkify_it_py-2.0.3-py3-none-any', '/media/nico/Drive/pcUtils/libs/pexpect-4.9.0-py2.py3-none-any', '/media/nico/Drive/pcUtils/libs/uc_micro_py-1.0.3-py3-none-any', '/media/nico/Drive/pcUtils/libs/ruamel.yaml.clib-0.2.12-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64', '/media/nico/Drive/pcUtils/libs/pygments-2.19.1-py3-none-any', '/media/nico/Drive/pcUtils/libs/platformdirs-4.3.6-py3-none-any', '/media/nico/Drive/pcUtils/libs/textual-2.1.1-py3-none-any', '/media/nico/Drive/pcUtils', '/usr/lib/python310.zip', '/usr/lib/python3.10', '/usr/lib/python3.10/lib-dynload', '/home/nico/.local/lib/python3.10/site-packages', '/usr/local/lib/python3.10/dist-packages', '/usr/lib/python3/dist-packages', '/media/nico/Drive/pcUtils/ui/config_screen/../../plugins/add_printer']
2025-03-18 17:27:54,315 - install_ui.select_field - DEBUG - Using function: get_printer_models
2025-03-18 17:27:54,390 - install_ui.select_field - INFO - Got result from get_printer_models: (True, {'models': [{'description': 'Imprimante Epson C4200 Couleurs', 'value': 'EC4200.yml'}, {'description': 'Imprimante Epson M2000', 'value': 'EM2000.yml'}, {'description': 'Photocopieur Konica Minolta 227', 'value': 'KM227.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs', 'value': 'KM227C.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs Agrafes', 'value': 'KM227CA.yml'}, {'description': 'Photocopieur Konica Minolta 250i Couleurs', 'value': 'KM250iC.yml'}, {'description': 'Photocopieur Konica Minolta 251i Couleurs', 'value': 'KM251iC.yml'}, {'description': 'Photocopieur Konica Minolta 287', 'value': 'KM287.yml'}, {'description': 'Photocopieur Konica Minolta 287 Couleurs', 'value': 'KM287C.yml'}, {'description': 'Photocopieur Konica Minolta 301i', 'value': 'KM301i.yml'}, {'description': 'Photocopieur Konica Minolta 301i Agrafes', 'value': 'KM301iA.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs', 'value': 'KM301iC.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs Agrafes', 'value': 'KM301iCA.yml'}, {'description': 'Photocopieur Konica Minolta 360i Couleurs', 'value': 'KM360iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i', 'value': 'KM361i.yml'}, {'description': 'Photocopieur Konica Minolta 361i Agrafes', 'value': 'KM361iA.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs', 'value': 'KM361iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs Agrafes', 'value': 'KM361iCA.yml'}, {'description': 'Photocopieur Konica Minolta 4051i', 'value': 'KM4051i.yml'}, {'description': 'Photocopieur Konica Minolta 4051i Couleurs', 'value': 'KM4051iC.yml'}, {'description': 'Photocopieur Konica Minolta C251i Agrafes', 'value': 'KM251iCA.yml'}]})
2025-03-18 17:27:54,390 - install_ui.select_field - INFO - Extracted data using value_key 'models': [{'description': 'Imprimante Epson C4200 Couleurs', 'value': 'EC4200.yml'}, {'description': 'Imprimante Epson M2000', 'value': 'EM2000.yml'}, {'description': 'Photocopieur Konica Minolta 227', 'value': 'KM227.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs', 'value': 'KM227C.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs Agrafes', 'value': 'KM227CA.yml'}, {'description': 'Photocopieur Konica Minolta 250i Couleurs', 'value': 'KM250iC.yml'}, {'description': 'Photocopieur Konica Minolta 251i Couleurs', 'value': 'KM251iC.yml'}, {'description': 'Photocopieur Konica Minolta 287', 'value': 'KM287.yml'}, {'description': 'Photocopieur Konica Minolta 287 Couleurs', 'value': 'KM287C.yml'}, {'description': 'Photocopieur Konica Minolta 301i', 'value': 'KM301i.yml'}, {'description': 'Photocopieur Konica Minolta 301i Agrafes', 'value': 'KM301iA.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs', 'value': 'KM301iC.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs Agrafes', 'value': 'KM301iCA.yml'}, {'description': 'Photocopieur Konica Minolta 360i Couleurs', 'value': 'KM360iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i', 'value': 'KM361i.yml'}, {'description': 'Photocopieur Konica Minolta 361i Agrafes', 'value': 'KM361iA.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs', 'value': 'KM361iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs Agrafes', 'value': 'KM361iCA.yml'}, {'description': 'Photocopieur Konica Minolta 4051i', 'value': 'KM4051i.yml'}, {'description': 'Photocopieur Konica Minolta 4051i Couleurs', 'value': 'KM4051iC.yml'}, {'description': 'Photocopieur Konica Minolta C251i Agrafes', 'value': 'KM251iCA.yml'}]
2025-03-18 17:27:54,390 - install_ui.select_field - INFO - Processed data type: <class 'list'> for options
2025-03-18 17:27:54,390 - install_ui.select_field - INFO - Processing list data: [{'description': 'Imprimante Epson C4200 Couleurs', 'value': 'EC4200.yml'}, {'description': 'Imprimante Epson M2000', 'value': 'EM2000.yml'}, {'description': 'Photocopieur Konica Minolta 227', 'value': 'KM227.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs', 'value': 'KM227C.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs Agrafes', 'value': 'KM227CA.yml'}, {'description': 'Photocopieur Konica Minolta 250i Couleurs', 'value': 'KM250iC.yml'}, {'description': 'Photocopieur Konica Minolta 251i Couleurs', 'value': 'KM251iC.yml'}, {'description': 'Photocopieur Konica Minolta 287', 'value': 'KM287.yml'}, {'description': 'Photocopieur Konica Minolta 287 Couleurs', 'value': 'KM287C.yml'}, {'description': 'Photocopieur Konica Minolta 301i', 'value': 'KM301i.yml'}, {'description': 'Photocopieur Konica Minolta 301i Agrafes', 'value': 'KM301iA.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs', 'value': 'KM301iC.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs Agrafes', 'value': 'KM301iCA.yml'}, {'description': 'Photocopieur Konica Minolta 360i Couleurs', 'value': 'KM360iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i', 'value': 'KM361i.yml'}, {'description': 'Photocopieur Konica Minolta 361i Agrafes', 'value': 'KM361iA.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs', 'value': 'KM361iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs Agrafes', 'value': 'KM361iCA.yml'}, {'description': 'Photocopieur Konica Minolta 4051i', 'value': 'KM4051i.yml'}, {'description': 'Photocopieur Konica Minolta 4051i Couleurs', 'value': 'KM4051iC.yml'}, {'description': 'Photocopieur Konica Minolta C251i Agrafes', 'value': 'KM251iCA.yml'}]
2025-03-18 17:27:54,391 - install_ui.select_field - INFO - Final normalized options: [('Imprimante Epson C4200 Couleurs', 'EC4200.yml'), ('Imprimante Epson M2000', 'EM2000.yml'), ('Photocopieur Konica Minolta 227', 'KM227.yml'), ('Photocopieur Konica Minolta 227 Couleurs', 'KM227C.yml'), ('Photocopieur Konica Minolta 227 Couleurs Agrafes', 'KM227CA.yml'), ('Photocopieur Konica Minolta 250i Couleurs', 'KM250iC.yml'), ('Photocopieur Konica Minolta 251i Couleurs', 'KM251iC.yml'), ('Photocopieur Konica Minolta 287', 'KM287.yml'), ('Photocopieur Konica Minolta 287 Couleurs', 'KM287C.yml'), ('Photocopieur Konica Minolta 301i', 'KM301i.yml'), ('Photocopieur Konica Minolta 301i Agrafes', 'KM301iA.yml'), ('Photocopieur Konica Minolta 301i Couleurs', 'KM301iC.yml'), ('Photocopieur Konica Minolta 301i Couleurs Agrafes', 'KM301iCA.yml'), ('Photocopieur Konica Minolta 360i Couleurs', 'KM360iC.yml'), ('Photocopieur Konica Minolta 361i', 'KM361i.yml'), ('Photocopieur Konica Minolta 361i Agrafes', 'KM361iA.yml'), ('Photocopieur Konica Minolta 361i Couleurs', 'KM361iC.yml'), ('Photocopieur Konica Minolta 361i Couleurs Agrafes', 'KM361iCA.yml'), ('Photocopieur Konica Minolta 4051i', 'KM4051i.yml'), ('Photocopieur Konica Minolta 4051i Couleurs', 'KM4051iC.yml'), ('Photocopieur Konica Minolta C251i Agrafes', 'KM251iCA.yml')]
2025-03-18 17:27:54,391 - install_ui.select_field - INFO - Field printer_model options: [('Imprimante Epson C4200 Couleurs', 'EC4200.yml'), ('Imprimante Epson M2000', 'EM2000.yml'), ('Photocopieur Konica Minolta 227', 'KM227.yml'), ('Photocopieur Konica Minolta 227 Couleurs', 'KM227C.yml'), ('Photocopieur Konica Minolta 227 Couleurs Agrafes', 'KM227CA.yml'), ('Photocopieur Konica Minolta 250i Couleurs', 'KM250iC.yml'), ('Photocopieur Konica Minolta 251i Couleurs', 'KM251iC.yml'), ('Photocopieur Konica Minolta 287', 'KM287.yml'), ('Photocopieur Konica Minolta 287 Couleurs', 'KM287C.yml'), ('Photocopieur Konica Minolta 301i', 'KM301i.yml'), ('Photocopieur Konica Minolta 301i Agrafes', 'KM301iA.yml'), ('Photocopieur Konica Minolta 301i Couleurs', 'KM301iC.yml'), ('Photocopieur Konica Minolta 301i Couleurs Agrafes', 'KM301iCA.yml'), ('Photocopieur Konica Minolta 360i Couleurs', 'KM360iC.yml'), ('Photocopieur Konica Minolta 361i', 'KM361i.yml'), ('Photocopieur Konica Minolta 361i Agrafes', 'KM361iA.yml'), ('Photocopieur Konica Minolta 361i Couleurs', 'KM361iC.yml'), ('Photocopieur Konica Minolta 361i Couleurs Agrafes', 'KM361iCA.yml'), ('Photocopieur Konica Minolta 4051i', 'KM4051i.yml'), ('Photocopieur Konica Minolta 4051i Couleurs', 'KM4051iC.yml'), ('Photocopieur Konica Minolta C251i Agrafes', 'KM251iCA.yml')]
2025-03-18 17:27:54,391 - install_ui.select_field - INFO - Setting default value for printer_model: EC4200.yml
2025-03-18 17:27:54,474 - template_field - DEBUG - Widget Select trouv√© avec ID: template_add_printer_template
2025-03-18 17:27:54,474 - template_field - ERROR - Erreur lors de l'enregistrement de l'√©v√©nement: 'NoneType' object has no attribute 'value'
2025-03-18 17:27:54,475 - template_field - DEBUG - S√©lection du template default pour add_printer
2025-03-18 17:27:54,476 - install_ui.select_field - DEBUG - Select changed to: EC4200.yml
2025-03-18 17:27:54,479 - install_ui.config_screen - DEBUG - PluginConfig.on_mount() started
2025-03-18 17:27:54,479 - install_ui.config_screen - DEBUG - Adding SSH fields to container
2025-03-18 17:27:54,479 - install_ui.config_screen - DEBUG - SSH fields: {'ssh_ips': {'type': 'text', 'label': 'Adresses IP (s√©par√©es par des virgules)', 'description': 'Peut inclure des caract√®res g√©n√©riques (ex: 192.168.1.*) et des virgules', 'placeholder': '150.27.2.*', 'default': '192.168.1.136', 'required': True}, 'ssh_user': {'type': 'text', 'label': 'Utilisateur SSH', 'default': 'nico', 'required': True}, 'ssh_passwd': {'type': 'password', 'label': 'Mot de passe SSH', 'default': 'orion1111', 'required': True}, 'ssh_sms_enabled': {'type': 'checkbox', 'label': 'Authentification via la SMS', 'default': False}, 'ssh_sms': {'type': 'text', 'label': 'Nom de machine de la SMS', 'default': 'ggd027sf', 'placeholder': 'ggd027sf....', 'required': True, 'enabled_if': {'field': 'ssh_sms_enabled', 'value': True}}, 'ssh_exception_ips': {'type': 'text', 'label': "Adresses IP exclues de l'exception", 'placeholder': '150.27.2.200,150.27.2.21*,150.27.2.22*', 'required': False}, 'ssh_root_same': {'type': 'checkbox', 'label': 'Utiliser les m√™mes identifiants pour sudo', 'description': "Utiliser les m√™mes identifiants que ssh_user et ssh_passwd pour l'acc√®s root", 'default': True}, 'ssh_root_user': {'type': 'text', 'label': 'Utilisateur root SSH', 'description': "Utilisateur √† utiliser pour l'acc√®s root via SSH", 'placeholder': 'root', 'required': True, 'enabled_if': {'field': 'ssh_root_same', 'value': False}}, 'ssh_root_passwd': {'type': 'password', 'label': 'Mot de passe root SSH', 'description': "Mot de passe √† utiliser pour l'acc√®s root via SSH", 'required': True, 'enabled_if': {'field': 'ssh_root_same', 'value': False}}, 'local_root_same': {'type': 'checkbox', 'label': 'Utiliser les m√™mes identifiants pour sudo local', 'description': "Utiliser les m√™mes identifiants que ssh_user et ssh_passwd pour l'acc√®s root local", 'default': True}, 'local_root_user': {'type': 'text', 'label': 'Utilisateur root local', 'description': "Utilisateur √† utiliser pour l'acc√®s root local", 'placeholder': 'root', 'required': True, 'enabled_if': {'field': 'local_root_same', 'value': False}}, 'local_root_passwd': {'type': 'password', 'label': 'Mot de passe root local', 'description': "Mot de passe √† utiliser pour l'acc√®s root local", 'required': True, 'enabled_if': {'field': 'local_root_same', 'value': False}}, 'ssh_port': {'type': 'text', 'label': 'Port SSH', 'description': 'Port SSH √† utiliser (22 par d√©faut)', 'default': '22', 'required': False}}
2025-03-18 17:27:54,494 - install_ui.config_field - DEBUG - Field ssh_sms: enabled_if={'field': 'ssh_sms_enabled', 'value': True}, dep_field=ssh_sms_enabled, dep_value=False
2025-03-18 17:27:54,494 - install_ui.config_field - DEBUG - Field ssh_sms should be initially disabled
2025-03-18 17:27:54,495 - install_ui.text_field - DEBUG - TextField ssh_sms is initially disabled
2025-03-18 17:27:54,501 - install_ui.config_field - DEBUG - Field ssh_root_user: enabled_if={'field': 'ssh_root_same', 'value': False}, dep_field=ssh_root_same, dep_value=True
2025-03-18 17:27:54,501 - install_ui.config_field - DEBUG - Field ssh_root_user should be initially disabled
2025-03-18 17:27:54,502 - install_ui.text_field - DEBUG - TextField ssh_root_user is initially disabled
2025-03-18 17:27:54,505 - install_ui.config_field - DEBUG - Field ssh_root_passwd: enabled_if={'field': 'ssh_root_same', 'value': False}, dep_field=ssh_root_same, dep_value=True
2025-03-18 17:27:54,505 - install_ui.config_field - DEBUG - Field ssh_root_passwd should be initially disabled
2025-03-18 17:27:54,506 - install_ui.text_field - DEBUG - TextField ssh_root_passwd is initially disabled
2025-03-18 17:27:54,509 - install_ui.password_field - DEBUG - PasswordField ssh_root_passwd is initially disabled
2025-03-18 17:27:54,513 - install_ui.config_field - DEBUG - Field local_root_user: enabled_if={'field': 'local_root_same', 'value': False}, dep_field=local_root_same, dep_value=True
2025-03-18 17:27:54,513 - install_ui.config_field - DEBUG - Field local_root_user should be initially disabled
2025-03-18 17:27:54,514 - install_ui.text_field - DEBUG - TextField local_root_user is initially disabled
2025-03-18 17:27:54,519 - install_ui.config_field - DEBUG - Field local_root_passwd: enabled_if={'field': 'local_root_same', 'value': False}, dep_field=local_root_same, dep_value=True
2025-03-18 17:27:54,519 - install_ui.config_field - DEBUG - Field local_root_passwd should be initially disabled
2025-03-18 17:27:54,521 - install_ui.text_field - DEBUG - TextField local_root_passwd is initially disabled
2025-03-18 17:27:54,524 - install_ui.password_field - DEBUG - PasswordField local_root_passwd is initially disabled
2025-03-18 17:27:54,573 - install_ui.config_screen - DEBUG - SSH fields mounted successfully
2025-03-18 17:27:54,573 - install_ui.config_screen - DEBUG - Toggling SSH config: enable=False
2025-03-18 17:27:54,627 - install_ui.config_screen - DEBUG - PluginConfig.on_mount() completed
2025-03-18 17:27:54,846 - choice - DEBUG - Config screen pushed successfully
2025-03-18 17:27:54,846 - choice - DEBUG - Config returned: True
2025-03-18 17:27:54,846 - choice - DEBUG - No configuration returned from config screen
2025-03-18 17:27:58,648 - template_field - DEBUG - S√©lection du template amfreville_bas pour add_printer
2025-03-18 17:28:04,541 - install_ui.config_screen - DEBUG - Button pressed: cancel
2025-03-18 17:28:04,541 - install_ui.config_screen - DEBUG - Cancel button pressed, popping screen
2025-03-18 17:28:04,662 - choice - DEBUG - Bouton cliqu√© : cancel
2025-03-18 17:28:05,716 - choice - DEBUG - Bouton cliqu√© : quit
2025-03-18 17:28:06,029 - asyncio - ERROR - Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x70e063af22f0>
