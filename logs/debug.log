2025-03-05 08:41:45,787 - install_ui.choice - DEBUG - Selected plugins: [('add_printer', 1)]
2025-03-05 08:41:45,787 - install_ui.choice - DEBUG - Creating PluginConfig instance
2025-03-05 08:41:45,787 - install_ui - DEBUG - Initializing PluginConfig
2025-03-05 08:41:45,787 - install_ui - DEBUG - Plugin instances: [('add_printer', 1)]
2025-03-05 08:41:45,787 - install_ui - DEBUG - Creating ConfigManager
2025-03-05 08:41:45,788 - install_ui - DEBUG - Loading SSH config from: /media/nico/Drive/pcUtils/ui/ssh_manager/ssh_fields.yml
2025-03-05 08:41:45,797 - install_ui.config_manager - DEBUG - Global config 'ssh' loaded: {'name': 'Configuration SSH globale', 'icon': 'üîí', 'description': "Param√®tres de connexion pour l'ex√©cution distante des plugins", 'hint': "Activez l'ex√©cution distante sur au moins un plugin pour configurer SSH", 'fields': {'ssh_ips': {'type': 'text', 'label': 'Adresses IP (s√©par√©es par des virgules)', 'description': 'Peut inclure des caract√®res g√©n√©riques (ex: 192.168.1.*) et des virgules', 'placeholder': '150.27.2.*', 'required': True}, 'ssh_user': {'type': 'text', 'label': 'Utilisateur SSH', 'default': 'nicolas.voirin', 'required': True}, 'ssh_passwd': {'type': 'password', 'label': 'Mot de passe SSH', 'required': True}, 'ssh_sms_enabled': {'type': 'checkbox', 'label': 'Authentification via la SMS', 'default': False}, 'ssh_sms': {'type': 'text', 'label': 'Nom de machine de la SMS', 'default': 'ggd027sf', 'placeholder': 'ggd027sf....', 'required': True, 'enabled_if': {'field': 'ssh_sms_enabled', 'value': True}}, 'ssh_exception_ips': {'type': 'text', 'label': "Adresses IP exclues de l'exception", 'placeholder': '150.27.2.200,150.27.2.21*,150.27.2.22*', 'required': False}}}
2025-03-05 08:41:45,797 - install_ui - DEBUG - Initializing fields for plugin: add_printer
2025-03-05 08:41:45,797 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: add_printer
2025-03-05 08:41:45,797 - install_ui.plugin_utils - DEBUG -   Test path: plugins/add_printer_test (exists: False)
2025-03-05 08:41:45,797 - install_ui.plugin_utils - DEBUG -   Base path: plugins/add_printer (exists: True)
2025-03-05 08:41:45,797 - install_ui.plugin_utils - DEBUG -   Returning base folder name: add_printer
2025-03-05 08:41:45,797 - install_ui - DEBUG - Loading plugin config from: /media/nico/Drive/pcUtils/ui/../plugins/add_printer/settings.yml
2025-03-05 08:41:45,806 - install_ui.config_manager - DEBUG - Plugin config 'add_printer' loaded
2025-03-05 08:41:45,806 - install_ui - DEBUG - PluginConfig initialized successfully
2025-03-05 08:41:45,806 - install_ui.choice - DEBUG - Pushing config screen
2025-03-05 08:41:45,826 - install_ui.choice - ERROR - Error in action_configure_selected: <textual.css.stylesheet.StylesheetErrors object at 0x771f5d1b1d20>
2025-03-05 08:41:45,827 - install_ui.choice - ERROR - Traceback (most recent call last):
  File "/media/nico/Drive/pcUtils/ui/choice.py", line 183, in action_configure_selected
    await self.push_screen(config_screen)
  File "/media/nico/Drive/pcUtils/libs/textual-2.1.1-py3-none-any/textual/app.py", line 2681, in push_screen
    self._load_screen_css(next_screen)
  File "/media/nico/Drive/pcUtils/libs/textual-2.1.1-py3-none-any/textual/app.py", line 2597, in _load_screen_css
    self.stylesheet.reparse()
  File "/media/nico/Drive/pcUtils/libs/textual-2.1.1-py3-none-any/textual/css/stylesheet.py", line 427, in reparse
    stylesheet.parse()
  File "/media/nico/Drive/pcUtils/libs/textual-2.1.1-py3-none-any/textual/css/stylesheet.py", line 403, in parse
    raise StylesheetParseError(error_renderable)
textual.css.stylesheet.StylesheetParseError: <textual.css.stylesheet.StylesheetErrors object at 0x771f5d1b1d20>

2025-03-05 08:41:45,827 - install_ui - DEBUG - PluginConfig.compose() started
2025-03-05 08:41:45,828 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: add_printer
2025-03-05 08:41:45,828 - install_ui.plugin_utils - DEBUG -   Test path: plugins/add_printer_test (exists: False)
2025-03-05 08:41:45,828 - install_ui.plugin_utils - DEBUG -   Base path: plugins/add_printer (exists: True)
2025-03-05 08:41:45,828 - install_ui.plugin_utils - DEBUG -   Returning base folder name: add_printer
2025-03-05 08:41:45,837 - install_ui - DEBUG - Plugin add_printer remote_execution: True
2025-03-05 08:41:45,837 - install_ui - DEBUG - Found remote execution plugin: add_printer
2025-03-05 08:41:45,837 - install_ui - DEBUG - Remote execution plugins: ['add_printer']
2025-03-05 08:41:45,838 - install_ui - DEBUG - Has remote plugins: True
2025-03-05 08:41:45,838 - install_ui - DEBUG - Creating config for plugin: add_printer_1
2025-03-05 08:41:45,838 - install_ui - DEBUG - Preparing remote execution checkbox for plugin add_printer_1
2025-03-05 08:41:45,838 - install_ui - DEBUG - Adding SSH configuration section
2025-03-05 08:41:45,840 - install_ui - DEBUG - PluginConfig.compose() completed
2025-03-05 08:41:45,851 - install_ui - INFO - Attempting to get dynamic default for field: printer_ip
2025-03-05 08:41:45,851 - install_ui - INFO - Field config: {'type': 'ip', 'label': 'Adresse IP', 'description': "Adresse IP de l'imprimante", 'required': True, 'not_empty': True, 'placeholder': 'Ex: 192.168.1.100', 'plugin_id': 'add_printer', 'dynamic_default': {'script': 'get_ip.py', 'function': 'get_local_ip', 'value_key': 'ip'}, 'id': 'printer_ip'}
2025-03-05 08:41:45,851 - install_ui - INFO - Loading script from: /media/nico/Drive/pcUtils/ui/components/../../plugins/add_printer/get_ip.py
2025-03-05 08:41:45,851 - install_ui - INFO - Dynamic default value obtained: (True, {'ip': '192.168.1.220'})
2025-03-05 08:41:45,863 - install_ui - INFO - Loading script from: /media/nico/Drive/pcUtils/ui/components/../../plugins/add_printer/get_printer_models.py
2025-03-05 08:41:45,863 - install_ui - DEBUG - Script exists: True
2025-03-05 08:41:45,864 - install_ui - DEBUG - Python path: ['/media/nico/Drive/pcUtils/libs/ptyprocess-0.7.0-py2.py3-none-any', '/media/nico/Drive/pcUtils/libs/rich-13.9.4-py3-none-any', '/media/nico/Drive/pcUtils/libs/ruamel.yaml-0.18.10-py3-none-any', '/media/nico/Drive/pcUtils/libs/mdit_py_plugins-0.4.2-py3-none-any', '/media/nico/Drive/pcUtils/libs/typing_extensions-4.12.2-py3-none-any', '/media/nico/Drive/pcUtils/libs/linkify_it_py-2.0.3-py3-none-any', '/media/nico/Drive/pcUtils/libs/pexpect-4.9.0-py2.py3-none-any', '/media/nico/Drive/pcUtils/libs/uc_micro_py-1.0.3-py3-none-any', '/media/nico/Drive/pcUtils/libs/ruamel.yaml.clib-0.2.12-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64', '/media/nico/Drive/pcUtils/libs/pygments-2.19.1-py3-none-any', '/media/nico/Drive/pcUtils/libs/platformdirs-4.3.6-py3-none-any', '/media/nico/Drive/pcUtils/libs/textual-2.1.1-py3-none-any', '/media/nico/Drive/pcUtils', '/usr/lib/python310.zip', '/usr/lib/python3.10', '/usr/lib/python3.10/lib-dynload', '/home/nico/.local/lib/python3.10/site-packages', '/usr/local/lib/python3.10/dist-packages', '/usr/lib/python3/dist-packages', '/media/nico/Drive/pcUtils/ui/components/../../plugins/add_printer']
2025-03-05 08:41:45,864 - install_ui - DEBUG - Using function: get_printer_models
2025-03-05 08:41:45,938 - install_ui - INFO - Got result from get_printer_models: (True, {'models': [{'description': 'Imprimante Epson C4200 Couleurs', 'value': 'EC4200.yml'}, {'description': 'Imprimante Epson M2000', 'value': 'EM2000.yml'}, {'description': 'Photocopieur Konica Minolta 227', 'value': 'KM227.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs', 'value': 'KM227C.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs Agrafes', 'value': 'KM227CA.yml'}, {'description': 'Photocopieur Konica Minolta 250i Couleurs', 'value': 'KM250iC.yml'}, {'description': 'Photocopieur Konica Minolta 251i Couleurs', 'value': 'KM251iC.yml'}, {'description': 'Photocopieur Konica Minolta 287', 'value': 'KM287.yml'}, {'description': 'Photocopieur Konica Minolta 287 Couleurs', 'value': 'KM287C.yml'}, {'description': 'Photocopieur Konica Minolta 301i', 'value': 'KM301i.yml'}, {'description': 'Photocopieur Konica Minolta 301i Agrafes', 'value': 'KM301iA.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs', 'value': 'KM301iC.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs Agrafes', 'value': 'KM301iCA.yml'}, {'description': 'Photocopieur Konica Minolta 360i Couleurs', 'value': 'KM360iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i', 'value': 'KM361i.yml'}, {'description': 'Photocopieur Konica Minolta 361i Agrafes', 'value': 'KM361iA.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs', 'value': 'KM361iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs Agrafes', 'value': 'KM361iCA.yml'}, {'description': 'Photocopieur Konica Minolta 4051i', 'value': 'KM4051i.yml'}, {'description': 'Photocopieur Konica Minolta 4051i Couleurs', 'value': 'KM4051iC.yml'}, {'description': 'Photocopieur Konica Minolta C251i Agrafes', 'value': 'KM251iCA.yml'}]})
2025-03-05 08:41:45,938 - install_ui - INFO - Extracted data using value_key 'models': [{'description': 'Imprimante Epson C4200 Couleurs', 'value': 'EC4200.yml'}, {'description': 'Imprimante Epson M2000', 'value': 'EM2000.yml'}, {'description': 'Photocopieur Konica Minolta 227', 'value': 'KM227.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs', 'value': 'KM227C.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs Agrafes', 'value': 'KM227CA.yml'}, {'description': 'Photocopieur Konica Minolta 250i Couleurs', 'value': 'KM250iC.yml'}, {'description': 'Photocopieur Konica Minolta 251i Couleurs', 'value': 'KM251iC.yml'}, {'description': 'Photocopieur Konica Minolta 287', 'value': 'KM287.yml'}, {'description': 'Photocopieur Konica Minolta 287 Couleurs', 'value': 'KM287C.yml'}, {'description': 'Photocopieur Konica Minolta 301i', 'value': 'KM301i.yml'}, {'description': 'Photocopieur Konica Minolta 301i Agrafes', 'value': 'KM301iA.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs', 'value': 'KM301iC.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs Agrafes', 'value': 'KM301iCA.yml'}, {'description': 'Photocopieur Konica Minolta 360i Couleurs', 'value': 'KM360iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i', 'value': 'KM361i.yml'}, {'description': 'Photocopieur Konica Minolta 361i Agrafes', 'value': 'KM361iA.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs', 'value': 'KM361iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs Agrafes', 'value': 'KM361iCA.yml'}, {'description': 'Photocopieur Konica Minolta 4051i', 'value': 'KM4051i.yml'}, {'description': 'Photocopieur Konica Minolta 4051i Couleurs', 'value': 'KM4051iC.yml'}, {'description': 'Photocopieur Konica Minolta C251i Agrafes', 'value': 'KM251iCA.yml'}]
2025-03-05 08:41:45,938 - install_ui - INFO - Processed data type: <class 'list'> for options
2025-03-05 08:41:45,938 - install_ui - INFO - Processing list data: [{'description': 'Imprimante Epson C4200 Couleurs', 'value': 'EC4200.yml'}, {'description': 'Imprimante Epson M2000', 'value': 'EM2000.yml'}, {'description': 'Photocopieur Konica Minolta 227', 'value': 'KM227.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs', 'value': 'KM227C.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs Agrafes', 'value': 'KM227CA.yml'}, {'description': 'Photocopieur Konica Minolta 250i Couleurs', 'value': 'KM250iC.yml'}, {'description': 'Photocopieur Konica Minolta 251i Couleurs', 'value': 'KM251iC.yml'}, {'description': 'Photocopieur Konica Minolta 287', 'value': 'KM287.yml'}, {'description': 'Photocopieur Konica Minolta 287 Couleurs', 'value': 'KM287C.yml'}, {'description': 'Photocopieur Konica Minolta 301i', 'value': 'KM301i.yml'}, {'description': 'Photocopieur Konica Minolta 301i Agrafes', 'value': 'KM301iA.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs', 'value': 'KM301iC.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs Agrafes', 'value': 'KM301iCA.yml'}, {'description': 'Photocopieur Konica Minolta 360i Couleurs', 'value': 'KM360iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i', 'value': 'KM361i.yml'}, {'description': 'Photocopieur Konica Minolta 361i Agrafes', 'value': 'KM361iA.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs', 'value': 'KM361iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs Agrafes', 'value': 'KM361iCA.yml'}, {'description': 'Photocopieur Konica Minolta 4051i', 'value': 'KM4051i.yml'}, {'description': 'Photocopieur Konica Minolta 4051i Couleurs', 'value': 'KM4051iC.yml'}, {'description': 'Photocopieur Konica Minolta C251i Agrafes', 'value': 'KM251iCA.yml'}]
2025-03-05 08:41:45,939 - install_ui - INFO - Final normalized options: [('Imprimante Epson C4200 Couleurs', 'EC4200.yml'), ('Imprimante Epson M2000', 'EM2000.yml'), ('Photocopieur Konica Minolta 227', 'KM227.yml'), ('Photocopieur Konica Minolta 227 Couleurs', 'KM227C.yml'), ('Photocopieur Konica Minolta 227 Couleurs Agrafes', 'KM227CA.yml'), ('Photocopieur Konica Minolta 250i Couleurs', 'KM250iC.yml'), ('Photocopieur Konica Minolta 251i Couleurs', 'KM251iC.yml'), ('Photocopieur Konica Minolta 287', 'KM287.yml'), ('Photocopieur Konica Minolta 287 Couleurs', 'KM287C.yml'), ('Photocopieur Konica Minolta 301i', 'KM301i.yml'), ('Photocopieur Konica Minolta 301i Agrafes', 'KM301iA.yml'), ('Photocopieur Konica Minolta 301i Couleurs', 'KM301iC.yml'), ('Photocopieur Konica Minolta 301i Couleurs Agrafes', 'KM301iCA.yml'), ('Photocopieur Konica Minolta 360i Couleurs', 'KM360iC.yml'), ('Photocopieur Konica Minolta 361i', 'KM361i.yml'), ('Photocopieur Konica Minolta 361i Agrafes', 'KM361iA.yml'), ('Photocopieur Konica Minolta 361i Couleurs', 'KM361iC.yml'), ('Photocopieur Konica Minolta 361i Couleurs Agrafes', 'KM361iCA.yml'), ('Photocopieur Konica Minolta 4051i', 'KM4051i.yml'), ('Photocopieur Konica Minolta 4051i Couleurs', 'KM4051iC.yml'), ('Photocopieur Konica Minolta C251i Agrafes', 'KM251iCA.yml')]
2025-03-05 08:41:45,939 - install_ui - INFO - Field printer_model options: [('Imprimante Epson C4200 Couleurs', 'EC4200.yml'), ('Imprimante Epson M2000', 'EM2000.yml'), ('Photocopieur Konica Minolta 227', 'KM227.yml'), ('Photocopieur Konica Minolta 227 Couleurs', 'KM227C.yml'), ('Photocopieur Konica Minolta 227 Couleurs Agrafes', 'KM227CA.yml'), ('Photocopieur Konica Minolta 250i Couleurs', 'KM250iC.yml'), ('Photocopieur Konica Minolta 251i Couleurs', 'KM251iC.yml'), ('Photocopieur Konica Minolta 287', 'KM287.yml'), ('Photocopieur Konica Minolta 287 Couleurs', 'KM287C.yml'), ('Photocopieur Konica Minolta 301i', 'KM301i.yml'), ('Photocopieur Konica Minolta 301i Agrafes', 'KM301iA.yml'), ('Photocopieur Konica Minolta 301i Couleurs', 'KM301iC.yml'), ('Photocopieur Konica Minolta 301i Couleurs Agrafes', 'KM301iCA.yml'), ('Photocopieur Konica Minolta 360i Couleurs', 'KM360iC.yml'), ('Photocopieur Konica Minolta 361i', 'KM361i.yml'), ('Photocopieur Konica Minolta 361i Agrafes', 'KM361iA.yml'), ('Photocopieur Konica Minolta 361i Couleurs', 'KM361iC.yml'), ('Photocopieur Konica Minolta 361i Couleurs Agrafes', 'KM361iCA.yml'), ('Photocopieur Konica Minolta 4051i', 'KM4051i.yml'), ('Photocopieur Konica Minolta 4051i Couleurs', 'KM4051iC.yml'), ('Photocopieur Konica Minolta C251i Agrafes', 'KM251iCA.yml')]
2025-03-05 08:41:45,939 - install_ui - INFO - Setting default value for printer_model: EC4200.yml
2025-03-05 08:41:45,994 - install_ui - DEBUG - Select changed to: EC4200.yml
2025-03-05 08:41:45,998 - install_ui - DEBUG - PluginConfig.on_mount() started
2025-03-05 08:41:45,998 - install_ui - DEBUG - Adding remote execution checkbox for add_printer_1
2025-03-05 08:41:46,004 - install_ui - DEBUG - Successfully mounted checkbox for add_printer_1
2025-03-05 08:41:46,004 - install_ui - DEBUG - PluginConfig.on_mount() completed
2025-03-05 08:41:57,102 - install_ui.choice - DEBUG - Button pressed: configure_selected
2025-03-05 08:41:57,102 - install_ui.choice - DEBUG - Starting action_configure_selected
2025-03-05 08:41:57,102 - install_ui.choice - DEBUG - Selected plugins: [('add_printer', 1)]
2025-03-05 08:41:57,102 - install_ui.choice - DEBUG - Creating PluginConfig instance
2025-03-05 08:41:57,102 - install_ui - DEBUG - Initializing PluginConfig
2025-03-05 08:41:57,103 - install_ui - DEBUG - Plugin instances: [('add_printer', 1)]
2025-03-05 08:41:57,103 - install_ui - DEBUG - Creating ConfigManager
2025-03-05 08:41:57,103 - install_ui - DEBUG - Loading SSH config from: /media/nico/Drive/pcUtils/ui/ssh_manager/ssh_fields.yml
2025-03-05 08:41:57,116 - install_ui.config_manager - DEBUG - Global config 'ssh' loaded: {'name': 'Configuration SSH globale', 'icon': 'üîí', 'description': "Param√®tres de connexion pour l'ex√©cution distante des plugins", 'hint': "Activez l'ex√©cution distante sur au moins un plugin pour configurer SSH", 'fields': {'ssh_ips': {'type': 'text', 'label': 'Adresses IP (s√©par√©es par des virgules)', 'description': 'Peut inclure des caract√®res g√©n√©riques (ex: 192.168.1.*) et des virgules', 'placeholder': '150.27.2.*', 'required': True}, 'ssh_user': {'type': 'text', 'label': 'Utilisateur SSH', 'default': 'nicolas.voirin', 'required': True}, 'ssh_passwd': {'type': 'password', 'label': 'Mot de passe SSH', 'required': True}, 'ssh_sms_enabled': {'type': 'checkbox', 'label': 'Authentification via la SMS', 'default': False}, 'ssh_sms': {'type': 'text', 'label': 'Nom de machine de la SMS', 'default': 'ggd027sf', 'placeholder': 'ggd027sf....', 'required': True, 'enabled_if': {'field': 'ssh_sms_enabled', 'value': True}}, 'ssh_exception_ips': {'type': 'text', 'label': "Adresses IP exclues de l'exception", 'placeholder': '150.27.2.200,150.27.2.21*,150.27.2.22*', 'required': False}}}
2025-03-05 08:41:57,116 - install_ui - DEBUG - Initializing fields for plugin: add_printer
2025-03-05 08:41:57,116 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: add_printer
2025-03-05 08:41:57,116 - install_ui.plugin_utils - DEBUG -   Test path: plugins/add_printer_test (exists: False)
2025-03-05 08:41:57,116 - install_ui.plugin_utils - DEBUG -   Base path: plugins/add_printer (exists: True)
2025-03-05 08:41:57,117 - install_ui.plugin_utils - DEBUG -   Returning base folder name: add_printer
2025-03-05 08:41:57,117 - install_ui - DEBUG - Loading plugin config from: /media/nico/Drive/pcUtils/ui/../plugins/add_printer/settings.yml
2025-03-05 08:41:57,127 - install_ui.config_manager - DEBUG - Plugin config 'add_printer' loaded
2025-03-05 08:41:57,127 - install_ui - DEBUG - PluginConfig initialized successfully
2025-03-05 08:41:57,127 - install_ui.choice - DEBUG - Pushing config screen
2025-03-05 08:41:57,128 - install_ui - DEBUG - PluginConfig.compose() started
2025-03-05 08:41:57,129 - install_ui.plugin_utils - DEBUG - Getting folder name for plugin: add_printer
2025-03-05 08:41:57,129 - install_ui.plugin_utils - DEBUG -   Test path: plugins/add_printer_test (exists: False)
2025-03-05 08:41:57,129 - install_ui.plugin_utils - DEBUG -   Base path: plugins/add_printer (exists: True)
2025-03-05 08:41:57,129 - install_ui.plugin_utils - DEBUG -   Returning base folder name: add_printer
2025-03-05 08:41:57,138 - install_ui - DEBUG - Plugin add_printer remote_execution: True
2025-03-05 08:41:57,138 - install_ui - DEBUG - Found remote execution plugin: add_printer
2025-03-05 08:41:57,138 - install_ui - DEBUG - Remote execution plugins: ['add_printer']
2025-03-05 08:41:57,138 - install_ui - DEBUG - Has remote plugins: True
2025-03-05 08:41:57,138 - install_ui - DEBUG - Creating config for plugin: add_printer_1
2025-03-05 08:41:57,139 - install_ui - DEBUG - Preparing remote execution checkbox for plugin add_printer_1
2025-03-05 08:41:57,139 - install_ui - DEBUG - Adding SSH configuration section
2025-03-05 08:41:57,141 - install_ui - DEBUG - PluginConfig.compose() completed
2025-03-05 08:41:57,154 - install_ui - INFO - Attempting to get dynamic default for field: printer_ip
2025-03-05 08:41:57,154 - install_ui - INFO - Field config: {'type': 'ip', 'label': 'Adresse IP', 'description': "Adresse IP de l'imprimante", 'required': True, 'not_empty': True, 'placeholder': 'Ex: 192.168.1.100', 'plugin_id': 'add_printer', 'dynamic_default': {'script': 'get_ip.py', 'function': 'get_local_ip', 'value_key': 'ip'}, 'id': 'printer_ip'}
2025-03-05 08:41:57,154 - install_ui - INFO - Loading script from: /media/nico/Drive/pcUtils/ui/components/../../plugins/add_printer/get_ip.py
2025-03-05 08:41:57,155 - install_ui - INFO - Dynamic default value obtained: (True, {'ip': '192.168.1.220'})
2025-03-05 08:41:57,164 - install_ui - INFO - Loading script from: /media/nico/Drive/pcUtils/ui/components/../../plugins/add_printer/get_printer_models.py
2025-03-05 08:41:57,164 - install_ui - DEBUG - Script exists: True
2025-03-05 08:41:57,164 - install_ui - DEBUG - Python path: ['/media/nico/Drive/pcUtils/libs/ptyprocess-0.7.0-py2.py3-none-any', '/media/nico/Drive/pcUtils/libs/rich-13.9.4-py3-none-any', '/media/nico/Drive/pcUtils/libs/ruamel.yaml-0.18.10-py3-none-any', '/media/nico/Drive/pcUtils/libs/mdit_py_plugins-0.4.2-py3-none-any', '/media/nico/Drive/pcUtils/libs/typing_extensions-4.12.2-py3-none-any', '/media/nico/Drive/pcUtils/libs/linkify_it_py-2.0.3-py3-none-any', '/media/nico/Drive/pcUtils/libs/pexpect-4.9.0-py2.py3-none-any', '/media/nico/Drive/pcUtils/libs/uc_micro_py-1.0.3-py3-none-any', '/media/nico/Drive/pcUtils/libs/ruamel.yaml.clib-0.2.12-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64', '/media/nico/Drive/pcUtils/libs/pygments-2.19.1-py3-none-any', '/media/nico/Drive/pcUtils/libs/platformdirs-4.3.6-py3-none-any', '/media/nico/Drive/pcUtils/libs/textual-2.1.1-py3-none-any', '/media/nico/Drive/pcUtils', '/usr/lib/python310.zip', '/usr/lib/python3.10', '/usr/lib/python3.10/lib-dynload', '/home/nico/.local/lib/python3.10/site-packages', '/usr/local/lib/python3.10/dist-packages', '/usr/lib/python3/dist-packages', '/media/nico/Drive/pcUtils/ui/components/../../plugins/add_printer', '/media/nico/Drive/pcUtils/ui/components/../../plugins/add_printer']
2025-03-05 08:41:57,164 - install_ui - DEBUG - Using function: get_printer_models
2025-03-05 08:41:57,247 - install_ui - INFO - Got result from get_printer_models: (True, {'models': [{'description': 'Imprimante Epson C4200 Couleurs', 'value': 'EC4200.yml'}, {'description': 'Imprimante Epson M2000', 'value': 'EM2000.yml'}, {'description': 'Photocopieur Konica Minolta 227', 'value': 'KM227.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs', 'value': 'KM227C.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs Agrafes', 'value': 'KM227CA.yml'}, {'description': 'Photocopieur Konica Minolta 250i Couleurs', 'value': 'KM250iC.yml'}, {'description': 'Photocopieur Konica Minolta 251i Couleurs', 'value': 'KM251iC.yml'}, {'description': 'Photocopieur Konica Minolta 287', 'value': 'KM287.yml'}, {'description': 'Photocopieur Konica Minolta 287 Couleurs', 'value': 'KM287C.yml'}, {'description': 'Photocopieur Konica Minolta 301i', 'value': 'KM301i.yml'}, {'description': 'Photocopieur Konica Minolta 301i Agrafes', 'value': 'KM301iA.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs', 'value': 'KM301iC.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs Agrafes', 'value': 'KM301iCA.yml'}, {'description': 'Photocopieur Konica Minolta 360i Couleurs', 'value': 'KM360iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i', 'value': 'KM361i.yml'}, {'description': 'Photocopieur Konica Minolta 361i Agrafes', 'value': 'KM361iA.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs', 'value': 'KM361iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs Agrafes', 'value': 'KM361iCA.yml'}, {'description': 'Photocopieur Konica Minolta 4051i', 'value': 'KM4051i.yml'}, {'description': 'Photocopieur Konica Minolta 4051i Couleurs', 'value': 'KM4051iC.yml'}, {'description': 'Photocopieur Konica Minolta C251i Agrafes', 'value': 'KM251iCA.yml'}]})
2025-03-05 08:41:57,247 - install_ui - INFO - Extracted data using value_key 'models': [{'description': 'Imprimante Epson C4200 Couleurs', 'value': 'EC4200.yml'}, {'description': 'Imprimante Epson M2000', 'value': 'EM2000.yml'}, {'description': 'Photocopieur Konica Minolta 227', 'value': 'KM227.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs', 'value': 'KM227C.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs Agrafes', 'value': 'KM227CA.yml'}, {'description': 'Photocopieur Konica Minolta 250i Couleurs', 'value': 'KM250iC.yml'}, {'description': 'Photocopieur Konica Minolta 251i Couleurs', 'value': 'KM251iC.yml'}, {'description': 'Photocopieur Konica Minolta 287', 'value': 'KM287.yml'}, {'description': 'Photocopieur Konica Minolta 287 Couleurs', 'value': 'KM287C.yml'}, {'description': 'Photocopieur Konica Minolta 301i', 'value': 'KM301i.yml'}, {'description': 'Photocopieur Konica Minolta 301i Agrafes', 'value': 'KM301iA.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs', 'value': 'KM301iC.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs Agrafes', 'value': 'KM301iCA.yml'}, {'description': 'Photocopieur Konica Minolta 360i Couleurs', 'value': 'KM360iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i', 'value': 'KM361i.yml'}, {'description': 'Photocopieur Konica Minolta 361i Agrafes', 'value': 'KM361iA.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs', 'value': 'KM361iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs Agrafes', 'value': 'KM361iCA.yml'}, {'description': 'Photocopieur Konica Minolta 4051i', 'value': 'KM4051i.yml'}, {'description': 'Photocopieur Konica Minolta 4051i Couleurs', 'value': 'KM4051iC.yml'}, {'description': 'Photocopieur Konica Minolta C251i Agrafes', 'value': 'KM251iCA.yml'}]
2025-03-05 08:41:57,247 - install_ui - INFO - Processed data type: <class 'list'> for options
2025-03-05 08:41:57,247 - install_ui - INFO - Processing list data: [{'description': 'Imprimante Epson C4200 Couleurs', 'value': 'EC4200.yml'}, {'description': 'Imprimante Epson M2000', 'value': 'EM2000.yml'}, {'description': 'Photocopieur Konica Minolta 227', 'value': 'KM227.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs', 'value': 'KM227C.yml'}, {'description': 'Photocopieur Konica Minolta 227 Couleurs Agrafes', 'value': 'KM227CA.yml'}, {'description': 'Photocopieur Konica Minolta 250i Couleurs', 'value': 'KM250iC.yml'}, {'description': 'Photocopieur Konica Minolta 251i Couleurs', 'value': 'KM251iC.yml'}, {'description': 'Photocopieur Konica Minolta 287', 'value': 'KM287.yml'}, {'description': 'Photocopieur Konica Minolta 287 Couleurs', 'value': 'KM287C.yml'}, {'description': 'Photocopieur Konica Minolta 301i', 'value': 'KM301i.yml'}, {'description': 'Photocopieur Konica Minolta 301i Agrafes', 'value': 'KM301iA.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs', 'value': 'KM301iC.yml'}, {'description': 'Photocopieur Konica Minolta 301i Couleurs Agrafes', 'value': 'KM301iCA.yml'}, {'description': 'Photocopieur Konica Minolta 360i Couleurs', 'value': 'KM360iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i', 'value': 'KM361i.yml'}, {'description': 'Photocopieur Konica Minolta 361i Agrafes', 'value': 'KM361iA.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs', 'value': 'KM361iC.yml'}, {'description': 'Photocopieur Konica Minolta 361i Couleurs Agrafes', 'value': 'KM361iCA.yml'}, {'description': 'Photocopieur Konica Minolta 4051i', 'value': 'KM4051i.yml'}, {'description': 'Photocopieur Konica Minolta 4051i Couleurs', 'value': 'KM4051iC.yml'}, {'description': 'Photocopieur Konica Minolta C251i Agrafes', 'value': 'KM251iCA.yml'}]
2025-03-05 08:41:57,247 - install_ui - INFO - Final normalized options: [('Imprimante Epson C4200 Couleurs', 'EC4200.yml'), ('Imprimante Epson M2000', 'EM2000.yml'), ('Photocopieur Konica Minolta 227', 'KM227.yml'), ('Photocopieur Konica Minolta 227 Couleurs', 'KM227C.yml'), ('Photocopieur Konica Minolta 227 Couleurs Agrafes', 'KM227CA.yml'), ('Photocopieur Konica Minolta 250i Couleurs', 'KM250iC.yml'), ('Photocopieur Konica Minolta 251i Couleurs', 'KM251iC.yml'), ('Photocopieur Konica Minolta 287', 'KM287.yml'), ('Photocopieur Konica Minolta 287 Couleurs', 'KM287C.yml'), ('Photocopieur Konica Minolta 301i', 'KM301i.yml'), ('Photocopieur Konica Minolta 301i Agrafes', 'KM301iA.yml'), ('Photocopieur Konica Minolta 301i Couleurs', 'KM301iC.yml'), ('Photocopieur Konica Minolta 301i Couleurs Agrafes', 'KM301iCA.yml'), ('Photocopieur Konica Minolta 360i Couleurs', 'KM360iC.yml'), ('Photocopieur Konica Minolta 361i', 'KM361i.yml'), ('Photocopieur Konica Minolta 361i Agrafes', 'KM361iA.yml'), ('Photocopieur Konica Minolta 361i Couleurs', 'KM361iC.yml'), ('Photocopieur Konica Minolta 361i Couleurs Agrafes', 'KM361iCA.yml'), ('Photocopieur Konica Minolta 4051i', 'KM4051i.yml'), ('Photocopieur Konica Minolta 4051i Couleurs', 'KM4051iC.yml'), ('Photocopieur Konica Minolta C251i Agrafes', 'KM251iCA.yml')]
2025-03-05 08:41:57,247 - install_ui - INFO - Field printer_model options: [('Imprimante Epson C4200 Couleurs', 'EC4200.yml'), ('Imprimante Epson M2000', 'EM2000.yml'), ('Photocopieur Konica Minolta 227', 'KM227.yml'), ('Photocopieur Konica Minolta 227 Couleurs', 'KM227C.yml'), ('Photocopieur Konica Minolta 227 Couleurs Agrafes', 'KM227CA.yml'), ('Photocopieur Konica Minolta 250i Couleurs', 'KM250iC.yml'), ('Photocopieur Konica Minolta 251i Couleurs', 'KM251iC.yml'), ('Photocopieur Konica Minolta 287', 'KM287.yml'), ('Photocopieur Konica Minolta 287 Couleurs', 'KM287C.yml'), ('Photocopieur Konica Minolta 301i', 'KM301i.yml'), ('Photocopieur Konica Minolta 301i Agrafes', 'KM301iA.yml'), ('Photocopieur Konica Minolta 301i Couleurs', 'KM301iC.yml'), ('Photocopieur Konica Minolta 301i Couleurs Agrafes', 'KM301iCA.yml'), ('Photocopieur Konica Minolta 360i Couleurs', 'KM360iC.yml'), ('Photocopieur Konica Minolta 361i', 'KM361i.yml'), ('Photocopieur Konica Minolta 361i Agrafes', 'KM361iA.yml'), ('Photocopieur Konica Minolta 361i Couleurs', 'KM361iC.yml'), ('Photocopieur Konica Minolta 361i Couleurs Agrafes', 'KM361iCA.yml'), ('Photocopieur Konica Minolta 4051i', 'KM4051i.yml'), ('Photocopieur Konica Minolta 4051i Couleurs', 'KM4051iC.yml'), ('Photocopieur Konica Minolta C251i Agrafes', 'KM251iCA.yml')]
2025-03-05 08:41:57,248 - install_ui - INFO - Setting default value for printer_model: EC4200.yml
2025-03-05 08:41:57,279 - install_ui - DEBUG - Select changed to: EC4200.yml
2025-03-05 08:41:57,281 - install_ui - DEBUG - PluginConfig.on_mount() started
2025-03-05 08:41:57,281 - install_ui - DEBUG - Adding remote execution checkbox for add_printer_1
2025-03-05 08:41:57,285 - install_ui - DEBUG - Successfully mounted checkbox for add_printer_1
2025-03-05 08:41:57,286 - install_ui - DEBUG - PluginConfig.on_mount() completed
2025-03-05 08:41:57,453 - install_ui.choice - DEBUG - Config screen pushed successfully
2025-03-05 08:41:57,453 - install_ui.choice - DEBUG - Config returned: True
2025-03-05 08:41:57,453 - install_ui.choice - DEBUG - No configuration returned from config screen
2025-03-05 08:42:54,884 - install_ui.choice - DEBUG - Quitting application
2025-03-05 08:42:55,210 - asyncio - ERROR - Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x771f5db94550>
